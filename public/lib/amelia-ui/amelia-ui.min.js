angular.module("amelia",["LocalStorageModule","ui.bootstrap","amelia.utils","amelia.filters","amelia.clock","amelia.kpi","amelia.charts","amelia.navigation","amelia.scopeSelectors","amelia.header","ngSanitize","ui.router"]),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/charts/templates/legend.html",'<ul class="chart-legend"><li ng-mouseenter="mouseEnter($index)" ng-mouseleave="mouseLeave($index)" ng-class="{ hover: item.hover} " class="legend-item" ng-repeat="item in items"><span class="color-pick" ng-style="getColor($index)"></span> <span class="source" ng-bind-html="item.name"></span> <span class="percent">{{item.y*100 | number:2}}%</span></li></ul>')}])}(),angular.module("amelia.filters",[]),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/charts/templates/legendBlocks.html",'<div class="chart-legend-blocks"><div ng-mouseenter="mouseEnter($index)" ng-mouseleave="mouseLeave($index)" ng-class="{ \'col-sm-4\': items.length > 2,\n                   \'col-sm-6\': items.length === 2,\n                   \'col-sm-12\': items.length === 1,\n                   \'hover\': item.hover }" class=" legend-row" ng-repeat="item in items"><div class="legend-color pull-left" ng-style="getColor($index)"></div><div class="legend-value"><div class="legend-digit">{{item.y*100 | number:2}}%</div><div class="legend-label" tooltip="{{tooltip}}" overflow-tooltip=""><a ng-href="{{item.href}}" target="_blank" ng-bind-html="item.name"></a></div></div></div></div>')}])}(),angular.module("amelia.utils",[]),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/header/templates/header.html",'<div class="navbar navbar-default navbar-fixed-top amelia-header" scroll-check=""><ul class="nav navbar-nav navbar-right pull-right"><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{userName}} <b class="caret"></b></a><ul class="dropdown-menu"><li ng-repeat="item in items"><a href="" ng-if="item.onClick" ng-click="item.onClick()" ng-bind="item.text"></a> <a ng-if="!item.onClick" ng-href="{{item.href}}" ng-bind="item.text"></a></li></ul></li></ul><div ng-transclude=""></div></div>')}])}(),angular.module("amelia.charts",[]).constant("Highcharts",Highcharts).constant("moment",moment).constant("theme",{colors:["#41b2f5","#ff7800","#BE7100","#333333","#FFDCA8","#0099c6","#dd4477","#aa aa11","#22aa99","#994499"],tooltip:{backgroundColor:"rgba(0,0,0,0.8)",borderColor:"rgba(0,0,0,0.8)",borderRadius:4,hideDelay:0,headerFormat:'<div style="font-size: 10px">{point.key}</div><br/>',style:{color:"#F0F0F0"}},xAxis:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%b. %e",week:"%b. %e",month:"%b '%y",year:"%Y"}},plotOptions:{pie:{dataLabels:{enabled:!1},startAngle:0,endAngle:360}}}),angular.module("amelia.charts").config(["theme",function(t){Highcharts.setOptions(t),Highcharts.getOptions().plotOptions.pie.colors=["#ff5400","#ff7800","#ffae00","#ffd941","#525b61"]}]),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/kpi/templates/glossaryPopup.html",'<div style="margin-left: -20px;" class="kpi-glossary-popover popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }"><div class="arrow" style="top: 20px"></div><div class="popover-inner"><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-include="content"></div></div></div>')}])}(),angular.module("amelia.clock",[]),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/kpi/templates/grid.html",'<div class="kpi-grid"><div class="kpi-grid-title" ng-if="title" ng-bind="title"></div><a class="kpi-grid-glossary-button" ng-if="glossary" popover="{{glossary}}" popover-placement="left" popover-trigger="focus" tabindex="0" ng-click="glossaryClicked()"></a> <a class="kpi-grid-glossary-button" ng-if="glossaryUrl" kpi-glossary="{{glossaryUrl}}" popover-placement="left" popover-trigger="focus" tabindex="0" ng-click="glossaryClicked()"></a><div ng-repeat="row in rows" class="row"><div class="kpi-grid-item-parent" ng-repeat="col in columns" ng-class="{\n        \'col-lg-12 col-md-12 col-sm-12\': columns.length === 1,\n        \'col-lg-6  col-md-6  col-sm-6\': columns.length === 2,\n        \'col-lg-4  col-md-4  col-sm-4\': columns.length === 3,\n        \'col-lg-3  col-md-3  col-sm-3\': columns.length === 4,\n        \'col-lg-2  col-md-2  col-sm-2\': columns.length === 6,\n        \'col-lg-1  col-md-1  col-sm-1\': columns.length === 12\n      }"><div class="kpi-grid-item" kpi-grid-item="{{$index + ($parent.$index)*(columns.length)}}"></div></div></div></div>')}])}(),angular.module("amelia.header",["amelia.scopeSelectors"]),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/kpi/templates/number.html",'<div class="kpi-number"><div class="kpi-number-wrapper"><span class="kpi-number-prefix" ng-show="prefix" ng-bind-html="prefix"></span><span tooltip-html-unsafe="{{getDataTitle()}}" class="kpi-number-data" ng-bind="getData()"></span><span class="kpi-number-data-suffix" ng-bind="getSuffixData()"></span> <span class="kpi-number-suffix" ng-show="suffix" ng-bind-html="suffix"></span> <span class="kpi-number-text" ng-transclude=""></span></div></div>')}])}(),angular.module("amelia.kpi",["amelia.filters"]),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/kpi/templates/organicPaid.html",'<div class="kpi-organic-paid"><div class="kpi-organic-wrapper"><span class="kpi-organic-paid-value" tooltip="{{getTotalTitle()}}" tooltip-append-to-body="true" ng-bind="total | kpiNumberTrim:1:true:false"></span><span class="kpi-organic-paid-value-suffix" ng-bind="total | kpiNumberSuffix"></span><div class="kpi-organic-paid-text">Clicks</div><div class="kpi-organic-paid-detailed"><span class="kpi-organic-paid-text">Organic</span><span tooltip="{{getOrganicTitle()}}" tooltip-append-to-body="true" class="kpi-organic-paid-value" ng-bind="organic | kpiNumberTrim:1:true:false"></span><span class="kpi-organic-paid-value-suffix" ng-bind="organic | kpiNumberSuffix"></span> <span class="kpi-organic-paid-text kpi-organic-paid-text-second">Paid</span><span tooltip="{{getPaidTitle()}}" tooltip-append-to-body="true" class="kpi-organic-paid-value" ng-bind="paid | kpiNumberTrim:1:true:false"></span><span class="kpi-organic-paid-value-suffix" ng-bind="paid | kpiNumberSuffix"></span></div></div></div>')}])}(),angular.module("amelia.navigation",[]),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/navigation/templates/navigation-content.html",'<div class="navigation-content-wrapper" ng-transclude=""></div>')}])}(),angular.module("amelia.scopeSelectors",["ui.select2"]),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/navigation/templates/navigation-layout.html",'<div class="navigation-page-wrapper" ng-class="{\'collapsed\': navLayoutCtrl.isNavigationCollapsed}" ng-transclude=""></div>')}])}(),angular.module("amelia.filters").filter("ameliaNumber",["$filter",function(t){var e=t("number");return function(t,a){var n=Math.round(t)!==Number(t);return a||0===a||(a=2),e(t,n?a:0)}}]),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/navigation/templates/navigation.html",'<div class="navigation-wrapper" ng-class="{\'collapsed\': menuConfig.collapsed}" ob-navigation-tooltip=""><div class="navigation-title"><a href="" class="clearfix" ng-click="toggleMenu()"><h4>Menu</h4><span class="amelia-icon amelia-icon-menu"></span></a></div><div class="navigation-product dropdown"><a href="" class="clearfix ob-dropdown-toggle"><h4 ng-bind="navCtrl.currentProduct.title"></h4><span ng-if="navigationItems && navigationItems.length >1" class="amelia-icon amelia-icon-product-selector"></span></a><ul ng-if="navigationItems && navigationItems.length >1" role="menu" class="dropdown-menu product-dropdown"><li role="presentation" class="dropdown-header"><h5>Outbrain Products</h5></li><li role="presentation" ng-if="navigationProduct.state" ng-repeat="navigationProduct in navigationItems" ng-class="{\'active\': navCtrl.currentProduct === navigationProduct }"><a ng-href="{{navCtrl.state.href(navigationProduct.state, navigationProduct.stateParams)}}" ng-bind="navigationProduct.title"></a></li><li role="presentation" ng-if="navigationProduct.url && !navigationProduct.state" ng-repeat="navigationProduct in navigationItems"><a ng-href="{{navigationProduct.url}}" ng-bind="navigationProduct.title"></a></li></ul></div><ul class="nav nav-sidebar navigation"><li ng-if="navigationItem.state" class="navigation-item" ng-class="{\'active\': navCtrl.state.includes(navigationItem.stateActive || navigationItem.state) }" ng-repeat="navigationItem in navCtrl.currentProduct.items"><a ng-href="{{navCtrl.state.href(navigationItem.state, navigationItem.stateParams)}}" class="clearfix"><span ng-if="navigationItem.iconClass" class="glyphicon {{navigationItem.iconClass}}" tooltip-placement="right" tooltip="{{menuConfig.collapsed ? navigationItem.title : \'\'}}" tooltip-append-to-body="true"></span> <img ng-if="navigationItem.iconUrl && !navigationItem.iconClass" ng-src="{{navigationItem.iconUrl}}" tooltip-placement="right" tooltip="{{menuConfig.collapsed ? navigationItem.title : \'\'}}" tooltip-append-to-body="true"> <span ng-bind="navigationItem.title"></span></a></li><li ng-if="navigationItem.url && !navigationItem.state" class="navigation-item" ng-repeat="navigationItem in navCtrl.currentProduct"><a ng-if="navigationItem.url" ng-href="{{navigationItem.url}}" class="clearfix"><span ng-if="navigationItem.iconClass" class="glyphicon {{navigationItem.iconClass}}" tooltip-placement="right" tooltip="{{menuConfig.collapsed ? navigationItem.title: \'\'}}" tooltip-append-to-body="true"></span> <img ng-if="navigationItem.iconUrl" ng-src="{{navigationItem.iconUrl && !navigationItem.iconClass}}" tooltip-placement="right" tooltip="{{menuConfig.collapsed ? navigationItem.title : \'\'}}" tooltip-append-to-body="true"> <span ng-bind="navigationItem.title"></span></a></li></ul><footer class="navigation-footer"><span clock="navCtrl.timeFormat"></span></footer></div>')}])}(),angular.module("amelia.utils").directive("overflowTooltip",function(){return{link:function(t,e){t.$watch(function(){return e[0].scrollWidth},function(){var a=e[0].offsetHeight<e[0].scrollHeight||e[0].offsetWidth<e[0].scrollWidth;t.tooltip=a?e.text():""})}}}),function(t){try{t=angular.module("amelia")}catch(e){t=angular.module("amelia",[])}t.run(["$templateCache",function(t){t.put("../../src/components/scopeSelectors/templates/scope-selectors.html",'<div class="scope-selector"><div ng-repeat="select2 in select2os"><input type="hidden" ng-show="$index === 0 || (select2.options.data.length && (select2.value || showEmptyValues))" ng-readonly="select2.options.data && select2.options.data.length === 1 && select2.value" ui-select2="select2.options" ng-model="select2.value"></div></div>')}])}(),angular.module("amelia.charts").directive("areaChart",["chartDirectiveFactory","moment","$q",function(t,e,a){var n=.3,i=864e5,o=30*i,l=t("area",{chart:{zoomType:"x"},title:{},subtitle:{},xAxis:{type:"datetime",startOnTick:!0,endOnTick:!0},yAxis:{startOnTick:!1,gridLineWidth:0,title:!1},plotOptions:{area:{fillOpacity:n,marker:{enabled:!1,radius:3},lineWidth:1.5,states:{hover:{lineWidthPlus:1,halo:!1}},threshold:null}},legend:{},tooltip:{useHTML:!0,headerFormat:'<div class="tooltip-header">{point.key}</div>',pointFormat:'<div class="tooltip-point"><div class="tooltip-point-color" style="background:{series.color}"></div><div class="series-name">{series.name}</div><b>{point.y}</b></div>',shared:!0,crosshairs:[{width:3}]},series:{type:"area"}},function(t,n,l,r){var s,c;if(t.legend.enabled=l.legend||!1,t.title.text=l.title,t.subtitle.text=l.subTitle,t.tooltip.positioner=function(t,e,a){var n=a.plotX+t>s.plotWidth?a.plotX-t+30:a.plotX+80;return{x:l.chartYAxis?n+20:n,y:s.chartHeight-e-(l.legend?80:50)}},t.tooltip.formatter=function(t){var a,n=this.points||(angular.isArray(this)?this:[this]),i=n[0].series,o=t.tooltipHeaderFormatter;return"monthly"===l.interval&&(o=function(t){var a=e.utc(t.x);return 1===a.date()&&a.month()<l.maxDate.month()?'<div class="tooltip-header">'+a.format("MMMM YYYY")+"</div>":1===i.data.length?'<div class="tooltip-header">'+a.format("D MMMM YYYY")+"-"+l.maxDate.format("D MMMM YYYY")+"</div>":t.x===i.data[i.data.length-1].x?'<div class="tooltip-header">'+e.utc(a).startOf("month").format("D MMMM YYYY")+" - "+a.format("D MMMM YYYY")+"</div>":'<div class="tooltip-header">'+a.format("D MMMM YYYY")+" - "+a.endOf("month").format("D MMMM YYYY")+"</div>"}),a=[o(n[0])],n.forEach(function(t){i=t.series,a.push(i.tooltipFormatter&&i.tooltipFormatter(t)||t.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),a.push(t.options.footerFormat||""),a.join("")},l.chartYAxis&&l.chartYAxis instanceof Array){var u=[];l.chartYAxis.forEach(function(e){e=angular.copy(e);var a=e.title;angular.extend(e,t.yAxis),a&&(e.title={text:a}),u.push(e)}),t.yAxis=u}r.then(function(t){s=t,l.$watch("interval",function(e){t.xAxis[0].update({minTickInterval:"daily"===e?i:o})}),l.$watch("data",function(e){e=a.when(e),e.then(function(e){c=e,e.forEach(function(e,a){t.series[a].update({marker:{enabled:1===t.series[a].data.length}})})})})})});return l.scope.interval="=chartInterval",l.scope.title="=chartTitle",l.scope.subTitle="=chartSubTitle",l.scope.chartYAxis="=chartYAxis",l.scope.maxDate="=chartMaxDate",l.scope.legend="@chartLegend",l}]),angular.module("amelia.charts").factory("chartDirectiveFactory",["Highcharts","$q","$timeout","$interval",function(t,e,a,n){return function(i,o,l){return{restrict:"E",replace:!0,template:"<div ng-class=\"{ 'amelia-loading-chart': loading }\"></div>",scope:{data:"=chartData",seriesOptions:"=chartSeriesOptions",config:"=chartConfig"},link:function(r,s){function c(){angular.isDefined(M)&&(n.cancel(M),M=void 0)}function u(){s.prop("offsetWidth")!==O&&(c(),O=s.prop("offsetWidth"),p.reflow(),M=n(u,I))}s.addClass("amelia-chart-"+i);var p,d=500,m=e.defer(),g=m.promise,f={},v={},h={},b={},x={},k={},y={},C={},$={};f.renderTo=s[0],angular.extend(f,o.chart),angular.extend(v,o.title),angular.extend(h,o.plotOptions),angular.extend(b,o.tooltip),angular.extend(x,o.subtitle),angular.extend(k,o.xAxis),angular.extend(y,o.yAxis),angular.extend(C,o.legend),angular.extend($,o.series),angular.extend(f,r.config);var w={chart:f,title:v,plotOptions:h,tooltip:b,subtitle:x,xAxis:k,yAxis:y,legend:C,series:[],loading:{hideDuration:d,showDuration:100},credits:{enabled:!1}};l&&l(w,$,r,g),p=new t.Chart(w);var M,I=300,O=s.prop("offsetWidth");M=n(u,I),r.$on("$destroy",function(){c()});var T=function(t){for(var e=p.series.length-1;e>t.length-1;e--)p.series[e].remove(!1)};r.$watch("data",function(t){t=e.when(t),r.loading=!0,p.showLoading(),t.then(function(t){t||(p.hideLoading(),a(function(){r.loading=!1},d)),t[0]&&t[0][0]&&t[0][0]instanceof Array||(t=[t]),T(t),t.forEach(function(t,e){if(p.series[e])p.series[e].setData(t);else{var a=r.seriesOptions&&r.seriesOptions[e];a=a||{},angular.extend(a,$),a.data=t,a.valueSuffix&&(a.tooltip={valueSuffix:a.valueSuffix}),a.valuePrefix&&(a.tooltip={valuePrefix:a.valuePrefix}),p.addSeries(a)}}),p.hideLoading(),a(function(){r.loading=!1},d)})}),m.resolve(p)}}}}]),angular.module("amelia.charts").directive("legend",["$q","Highcharts",function(t,e){return{restrict:"E",replace:!0,templateUrl:function(t,e){var a="";return e.legend&&"blocks"===e.legend&&(a="Blocks"),"../../src/components/charts/templates/legend"+a+".html"},scope:{data:"="},link:function(a){a.$parent.$on("pieMouseOver",function(t,e){a.$apply(function(){a.items[e.x].hover=!0})}),a.$parent.$on("pieMouseOut",function(t,e){a.$apply(function(){a.items[e.x].hover=!1})}),a.mouseEnter=function(t){a.$parent.$broadcast("legendMouseOver",t)},a.mouseLeave=function(t){a.$parent.$broadcast("legendMouseOut",t)},a.$watch("data",function(e){var n=t.when(e);n.then(function(t){a.items=t})}),a.getColor=function(t){return{background:e.getOptions().plotOptions.pie.colors[t]}}}}}]),angular.module("amelia.charts").directive("pieChart",["chartDirectiveFactory","numberFilter",function(t,e){var a=25,n=t("pie",{series:{type:"pie",innerSize:"60%"},title:{text:""},tooltip:{enabled:!1,followPointer:!1},plotOptions:{pie:{borderWidth:0,states:{hover:{brightness:.1,halo:!1}}}},chart:{backgroundColor:"transparent"}},function(t,n,i,o){var l;i.innerText&&(t.chart.spacingBottom=2*a,t.subtitle={text:"",align:"center",verticalAlign:"bottom",y:a}),i.showToolTip&&(t.tooltip.enabled=!0,t.tooltip.formatter=function(){return this.point.name}),i.$parent.$on("legendMouseOver",function(t,e){l.series[0].data[e].setState("hover"),i.mouseOver(l.series[0].data[e].percentage,l)}),i.$parent.$on("legendMouseOut",function(t,e){l.series[0].data[e].setState(""),i.mouseOut(l)}),t.plotOptions.series={point:{events:{mouseOver:function(){i.$parent.$broadcast("pieMouseOver",this),i.mouseOver(this.percentage)},mouseOut:function(){i.$parent.$broadcast("pieMouseOut",this),i.mouseOut()}}}};var r;i.mouseOver=function(t){var a=e(Math.round(100*t)/100,angular.isDefined(i.decimalPersition)?i.decimalPersition:2);r.element.textContent=a+"%",i.innerText&&l.setTitle({},{text:i.innerText},!1)},i.mouseOut=function(){r.element.textContent="",i.innerText&&l.setTitle({},{text:""},!1)},o.then(function(t){l=t,r=l.renderer.html("",0,l.plotSizeY/2+a).addClass("pie-info").css({fontSize:"48px",fontFamily:"Lato"}).add()}),i.loadChart=o});return n.scope.innerText="@chartInnerText",n.scope.showToolTip="=chartShowToolTip",n.scope.decimalPersition="=chartDecimalPersitionMiddle",n}]),function(){function t(t,e){return function(a,n,i){function o(){n.text(e(new Date,l))}var l,r;a.$watch(i.clock,function(t){l=t,o()}),r=t(o,1e3),n.on("$destroy",function(){t.cancel(r)})}}t.$inject=["$interval","dateFilter"],angular.module("amelia.clock").directive("clock",t)}(),angular.module("amelia.header").directive("obHeader",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{userName:"@",items:"="},templateUrl:"../../src/components/header/templates/header.html"}}),angular.module("amelia.header").directive("scrollCheck",["$window",function(t){return function(e,a){angular.element(t).bind("scroll",function(){this.pageYOffset>0?a.addClass("scrolled"):a.removeClass("scrolled"),e.$apply()})}}]),angular.module("amelia.kpi").directive("kpiGlossaryPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"../../src/components/kpi/templates/glossaryPopup.html"}}).directive("kpiGlossary",["$tooltip",function(t){return t("kpiGlossary","popover","click")}]),angular.module("amelia.kpi").directive("kpiGrid",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"../../src/components/kpi/templates/grid.html",scope:{layout:"=kpiGridLayout",title:"@kpiGridTitle",glossary:"@kpiGridGlossary",glossaryUrl:"@kpiGridGlossaryUrl"},controller:function(){this.addItem=function(t,e){var a=this.children[e]||"<span></span>";t.append(a)}},link:function(t,e,a,n,i){t.$watch("[rows, columns]",function(){i(function(t){n.children=[];for(var e=0;e<t.length;e++)t[e].tagName&&n.children.push(t[e])})},!0),t.$watch("layout",function(e){e&&(t.rows=Array.apply(null,new Array(Number(e.rows))).map(function(){return{}}),t.columns=Array.apply(null,new Array(Number(e.columns))).map(function(){return{}}))},!0)}}}),angular.module("amelia.kpi").directive("kpiGridItem",function(){return{restrict:"A",require:"^kpiGrid",link:function(t,e,a,n){n.addItem(e,a.kpiGridItem)}}}),angular.module("amelia.kpi").directive("kpiNumber",["$filter","$timeout","numberFilter","kpiNumberSuffixFilter",function(t,e,a,n){return{restrict:"AE",transclude:!0,replace:!0,templateUrl:"../../src/components/kpi/templates/number.html",scope:{prefix:"@kpiNumberPrefix",suffix:"@kpiNumberSuffix",filter:"@kpiNumberFilter",text:"@kpiNumberText",data:"=kpiNumberData"},link:function(e){var i=e.filter.split(":"),o=i[0],l=t(o);i.splice(0,1),i[0]=i[0]&&Number(i[0]),i[1]=i[1]&&JSON.parse(i[1]),i[2]=i[2]&&JSON.parse(i[2]),e.getData=function(){return l.apply(this,[e.data].concat(i))},e.getSuffixData=function(){return"kpiNumberTrim"===o?n(e.data):""},e.getDataTitle=function(){return e.getSuffixData()?(e.prefix||"")+a(e.data)+(e.suffix||""):""}}}}]),angular.module("amelia.kpi").filter("kpiNumberTrim",["$filter",function(t){return function(e,a,n,i,o){o=o||4;var l=Math.abs(Math.round(e)).toString().length,r=0;if(l>o){if(i?a=0:a||0===a||(a=2),r=Math.floor((l-1)/3),r>4)throw"can't parse a number higher then'MT'";e/=Math.pow(1e3,r)}else n&&(a=0);return t("ameliaNumber")(e,a)}}]).filter("kpiNumberSuffix",function(){var t=["","K","MM","BN","MT"];return function(e,a){a=a||4;var n=Math.abs(Math.round(e)).toString().length,i=0;return n>a&&(i=Math.floor((n-1)/3)),t[i]}}),angular.module("amelia.kpi").directive("kpiOrganicPaid",["$timeout","kpiNumberTrimFilter","numberFilter",function(t,e,a){return{restrict:"AE",replace:!0,templateUrl:"../../src/components/kpi/templates/organicPaid.html",scope:{total:"=kpiTotal",organic:"=kpiOrganic",paid:"=kpiPaid"},link:function(t){var n=function(n){var i=a(t[n]),o=e(t[n]);return o===i?"":i};t.getTotalTitle=function(){return n("total")},t.getOrganicTitle=function(){return n("organic")},t.getPaidTitle=function(){return n("paid")}}}}]),function(){function t(){var t=this;t.isNavigationCollapsed=!1,this.toggleCollapsed=function(e){t.isNavigationCollapsed=e}}angular.module("amelia.navigation").controller("obNavigationLayoutController",t).directive("obNavigationLayout",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"../../src/components/navigation/templates/navigation-layout.html",controller:"obNavigationLayoutController as navLayoutCtrl"}}).directive("obNavigationContent",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"../../src/components/navigation/templates/navigation-content.html"}})}(),function(){function t(t,e,a,n){function i(){t.localStorageService.set("NavigationCollapsed",t.menuConfig.collapsed||!1)}t.toggleMenu=function(e){e=void 0===e?!t.menuConfig.collapsed:!!e,t.menuConfig.collapsed=e,n&&n.toggleCollapsed(t.menuConfig.collapsed),t.setTimeFormat(t.menuConfig.collapsed)},t.menuConfig={collapsed:"true"===(""+t.localStorageService.get("NavigationCollapsed")).toLowerCase()||!1},t.$watch("menuConfig.collapsed",i),t.toggleMenu(t.menuConfig.collapsed)}function e(t,e,a){function n(){null===l.currentProduct&&angular.isArray(t.navigationItems)&&t.navigationItems.length>0&&(l.currentProduct=t.navigationItems[0])}function i(e){if(void 0===e&&(e=l.state),!angular.isArray(t.navigationItems))return null;for(var a=0;a<t.navigationItems.length;a++){var n=t.navigationItems[a];if(angular.isString(n.state)&&e.includes(n.state))return n}return null}function o(t){var e=i(t);e&&(l.currentProduct=e)}var l=this,r="MMMM d, yyyy H:mm:ss",s="M/d H:mm";this.currentProduct=null,n(),this.state=e,t.localStorageService=a,t.setTimeFormat=function(t){void 0===t&&(t=!1),l.timeFormat=t?s:r},t.$watch("navigationItems",n),t.$on("$stateChangeSuccess",function(e,a,n){if(t.navigationItems){for(var i=0;i<t.navigationItems.length;i++){var r=t.navigationItems[i];if(angular.isObject(r.stateParams)&&angular.extend(r.stateParams,n),!r.items)break;for(var s=0;s<r.items.length;s++){var c=r.items[s];angular.isObject(c.stateParams)&&angular.extend(c.stateParams,n)}}o(l.state)}}),o(),t.setTimeFormat()}e.$inject=["$scope","$state","localStorageService"],angular.module("amelia.navigation").controller("obNavigationCtrl",e).directive("obNavigation",function(){return{require:"^?obNavigationLayout",restrict:"E",replace:!0,scope:{navigationItems:"="},controller:"obNavigationCtrl as navCtrl",templateUrl:"../../src/components/navigation/templates/navigation.html",link:t}}).directive("obDropdownToggle",["$position",function(t){function e(e,a,n,i){function o(t){for(;t&&"BODY"!==t.prop("tagName")&&"fixed"!==t.css("position");)t=t.parent();return"fixed"===t.css("position")}function l(t){var e="fixed",n=9999;return u=i.$element.find(".dropdown-menu"),u.insertAfter(t),o(a)||(e="absolute",n=999),u.css({"z-index":n,position:e}),u.on("click",function(){i.toggle(!1),t.triggerHandler("click")}),u}function r(){return p||(p=angular.element(".amelia-drop-mask"),0===p.length&&(p=angular.element('<div class="amelia-drop-mask"></div>').css({position:"fixed",left:"0",top:"0","min-height":"100%","min-width":"100%",height:"auto",width:"auto",opacity:"0","z-index":"9998"}),angular.element("body").append(p),p.on("click",function(){i.toggle(!1),p.css({display:"none"})}))),p}function s(){var e,n="position";o(a)||(n="offset"),e=t[n](i.$element),u.css({top:e.top,left:i.$element.width()+e.left})}function c(t){t.preventDefault(),a.hasClass("disabled")||n.disabled||e.$apply(function(){p=r(),i.isOpen()||(u||(l(p),p.on("click",function(){u.css({display:"none"})})),s(),p.css({display:"block"}),u.css({display:"block"}))})}var u=null,p=null;i&&(i.toggleElement=a,a.bind("click",c),a.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(t){a.attr("aria-expanded",!!t)}),e.$on("$destroy",function(){a.unbind("click",c)}))}return{require:"?^dropdown",restrict:"AC",link:e}}]).directive("obNavigationTooltip",["$document",function(t){function e(e){e.$watch("navigationItems",function(){var a=t[0].getElementById("navigation-tooltip-style");a?angular.element(a).text(""):(a=angular.element('<style id="navigation-tooltip-style"></style>'),a=a[0],a.appendChild(t[0].createTextNode("")),t[0].head.appendChild(a));var n=[".tooltip[content='%content%'] {","font-size: 14px;","line-height: 1.4;","}",".tooltip[content='%content%'] .tooltip-arrow {","border-right-color: #0b89d4;","}",".tooltip[content='%content%'] .tooltip-inner {","padding-top: 13px;","padding-bottom: 13px;","padding-left: 15px;","padding-right: 15px;","background-color: #0b89d4;","box-shadow: -1px 4px 5px rgba(0, 0, 0, 0.25);","}",".tooltip[content='%content%'].in {","opacity: 1;","}"].join(" "),i="";angular.forEach(e.navigationItems,function(t){angular.forEach(t.items,function(t){i=i+"\n"+n.replace(/%content%/gi,t.title)})}),angular.element(a).text(i)})}return{restrict:"A",link:e}}])}(),angular.module("amelia.scopeSelectors").directive("obScopeSelectors",["$state",function(t){return{restrict:"E",replace:!0,scope:{scopeSelectorRoot:"=",select2os:"=",state:"=",showEmptyValues:"@",dropDownCssClass:"@",descendantProperty:"@",sanitizeHtml:"@"},templateUrl:"../../src/components/scopeSelectors/templates/scope-selectors.html",compile:function(){var e=function(t,e){for(var a=e;a<t.length;a++)t[a].value=null},a=function(t,e){e.forEach(function(t){t()}),t.splice(0,t.length)},n=function(t,e,a,n){!function i(e,o){if(e.length){t.push({value:null,options:angular.extend({data:o?e:[]},a)});var l=e.reduce(function(t,e){var a=e[n.descendantProperty]||e.items||[];return t.concat(a)},[]);i(l)}}(e,!0)},i=function(a,n,i){a.forEach(function(o,l){n.push(i.$watch(function(){return o.value},function(n,o){var r=l+1,s=a&&a[r];if(s){var c=s.options.data;c.splice(0,c.length)}if(n){if(n!==o){var u=n.state||i.state;u?t.go(u,n.stateParams):e(a,r)}s&&(n[i.descendantProperty]||n.items||[]).forEach(function(t){c.push(t)})}}))})};return{pre:function(e){var o=function(a){var n=a.state||e.state;return n?angular.element("<a>").attr({tabIndex:-1,href:t.href(n,a.stateParams||{})})[angular.isDefined(e.sanitizeHtml)?"html":"text"](a.text):a.text},l=function(t){return t},r={width:"100%",escapeMarkup:l,minimumResultsForSearch:6,dropdownCssClass:e.dropDownCssClass,dropdownAutoWidth:!0,formatSelection:o,formatResult:o,placeholder:"Search"},s=e.select2os||[],c=[];e.$watch("scopeSelectorRoot",function(t){t&&(a(s,c),n(s,t,r,e),i(s,c,e))})}}}}}]);